<!DOCTYPE html>
<html lang="mk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Makedon World News | Global Atlas</title>
    <style>
        :root { --red: #d32f2f; --black: #121212; --gray: #f8f9fa; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; margin: 0; background: var(--gray); }
        header { background: var(--black); color: white; text-align: center; padding: 25px 15px; border-bottom: 4px solid var(--red); }
        .container { max-width: 1200px; margin: auto; padding: 20px; }
        
        .search-box { margin-bottom: 20px; text-align: center; }
        #search-input { 
            width: 100%; max-width: 600px; padding: 12px 20px; 
            border: 2px solid #ddd; border-radius: 25px; outline: none;
        }

        /* –¢–≤–æ—ò–æ—Ç –Ω–æ–≤ –≥–µ–æ–≥—Ä–∞—Ñ—Å–∫–∏ –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä */
        .nav-tabs { display: flex; gap: 8px; margin-bottom: 25px; flex-wrap: wrap; justify-content: center; }
        .tab-btn { padding: 8px 15px; border: none; background: white; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 0.85rem; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .tab-btn.active { background: var(--red); color: white; }

        #news-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 3px 10px rgba(0,0,0,0.05); border: 1px solid #eee; display: flex; flex-direction: column; transition: 0.3s; }
        .card:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(0,0,0,0.1); }
        .card-body { padding: 15px; }
        .source-tag { font-size: 0.7rem; color: var(--red); font-weight: 800; text-transform: uppercase; }
        .title { font-size: 1.05rem; font-weight: 700; margin: 8px 0; line-height: 1.4; color: #111; }
        .desc { font-size: 0.85rem; color: #555; line-height: 1.5; margin-bottom: 12px; }
        .link-btn { text-decoration: none; color: white; background: var(--black); padding: 7px 14px; border-radius: 4px; font-size: 0.8rem; display: inline-block; }
        
        .loader { text-align: center; padding: 40px; font-size: 1.1rem; grid-column: 1/-1; color: #666; }
        footer { background: var(--black); color: white; text-align: center; padding: 20px; margin-top: 40px; }
    </style>
</head>
<body>

<header>
    <h1 style="margin:0;">üåç Makedon World News</h1>
    <p style="font-size: 0.9rem; opacity: 0.8;">–û–¥ –û–∫–µ–∞–Ω–∏—Ç–µ –¥–æ –ê–Ω—Ç–∞—Ä–∫—Ç–∏–∫–æ—Ç - —Å–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ –µ–¥–Ω–æ –º–µ—Å—Ç–æ</p>
</header>

<div class="container">
    <div class="search-box">
        <input type="text" id="search-input" placeholder="üîç –ü—Ä–µ–±–∞—Ä–∞—ò –≤–æ –æ–≤–∞–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—ò–∞..." onkeyup="filterNews()">
    </div>

    <div class="nav-tabs">
        <button class="tab-btn active" onclick="loadCategory('MK')">üá≤üá∞ –ú–∞–∫–µ–¥–æ–Ω–∏—ò–∞</button>
        <button class="tab-btn" onclick="loadCategory('BALKAN')">üèòÔ∏è –ë–∞–ª–∫–∞–Ω</button>
        <button class="tab-btn" onclick="loadCategory('EUROPE')">üá™üá∫ –ï–≤—Ä–æ–ø–∞</button>
        <button class="tab-btn" onclick="loadCategory('ASIA')">‚õ©Ô∏è –ê–∑–∏—ò–∞</button>
        <button class="tab-btn" onclick="loadCategory('AFRICA')">ü¶Å –ê—Ñ—Ä–∏–∫–∞</button>
        <button class="tab-btn" onclick="loadCategory('AMERICA')">üóΩ –ê–º–µ—Ä–∏–∫–∞</button>
        <button class="tab-btn" onclick="loadCategory('OCEANIA')">üê® –û–∫–µ–∞–Ω–∏—ò–∞</button>
        <button class="tab-btn" onclick="loadCategory('ANTARCTIC')">‚ùÑÔ∏è –ê–Ω—Ç–∞—Ä–∫—Ç–∏–∫</button>
        <button class="tab-btn" onclick="loadCategory('OCEANS')">üåä –û–∫–µ–∞–Ω–∏</button>
    </div>

    <div id="news-grid"><div class="loader">–ò–∑–±–µ—Ä–µ—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—ò–∞...</div></div>
</div>

<footer><p>¬© 2026 Makedon World News | –ì–ª–æ–±–∞–ª–µ–Ω –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä</p></footer>

<script>
let CURRENT_NEWS = []; 
const PROXY = "https://api.allorigins.win/raw?url=";

// –ò–ó–í–û–†–ò –û–î –¢–í–û–ò–¢–ï CSV –¢–ê–ë–ï–õ–ò
const SOURCES = {
    MK: [
        { name: "Sitel", url: "https://sitel.com.mk/rss.xml" },
        { name: "Kanal 5", url: "https://kanal5.com.mk/rss" }
    ],
    BALKAN: [
        { name: "N1 Info", url: "https://n1info.rs/feed/" },
        { name: "Al Jazeera Balkans", url: "https://balkans.aljazeera.net/rss.xml" }
    ],
    EUROPE: [
        { name: "Euronews", url: "https://www.euronews.com/rss?level=theme&name=news" },
        { name: "Deutsche Welle", url: "https://rss.dw.com/rdf/rss-en-all" }
    ],
    ASIA: [
        { name: "SCMP Asia", url: "https://www.scmp.com/rss/318206/feed" },
        { name: "NHK Japan", url: "https://www3.nhk.or.jp/nhkworld/rd/rss/english/news.xml" }
    ],
    AFRICA: [
        { name: "AllAfrica", url: "https://allafrica.com/tools/headlines/rss/main/main.xml" },
        { name: "BBC Africa", url: "https://feeds.bbci.co.uk/news/world/africa/rss.xml" }
    ],
    AMERICA: [
        { name: "Reuters US", url: "https://www.reutersagency.com/feed/" },
        { name: "CNN World", url: "http://rss.cnn.com/rss/edition_world.rss" }
    ],
    OCEANIA: [
        { name: "ABC News Australia", url: "https://www.abc.net.au/news/feed/45910/rss.xml" },
        { name: "RNZ Pacific", url: "https://www.rnz.co.nz/rss/pacific.xml" }
    ],
    ANTARCTIC: [
        { name: "Antarctic Sun", url: "https://antarcticsun.usap.gov/rss/index.cfm" },
        { name: "British Antarctic Survey", url: "https://www.bas.ac.uk/news/rss/" }
    ],
    OCEANS: [
        { name: "Ocean News", url: "https://www.oceannews.com/news?format=feed&type=rss" },
        { name: "Marine Technology", url: "https://www.marinetechnologynews.com/rss" }
    ]
};

async function loadCategory(cat) {
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
    if(event && event.target) event.target.classList.add('active');

    const grid = document.getElementById('news-grid');
    grid.innerHTML = '<div class="loader">–ì–∏ –ø—Ä–µ–±–∞—Ä—É–≤–∞–º–µ —Å–≤–µ—Ç—Å–∫–∏—Ç–µ –∞—Ä—Ö–∏–≤–∏...</div>';
    
    CURRENT_NEWS = [];
    const selectedSources = SOURCES[cat] || [];

    for (let src of selectedSources) {
        try {
            const res = await fetch(PROXY + encodeURIComponent(src.url));
            const text = await res.text();
            const xml = new DOMParser().parseFromString(text, "text/xml");
            const items = xml.querySelectorAll("item");

            items.forEach(el => {
                CURRENT_NEWS.push({
                    source: src.name,
                    title: el.querySelector("title")?.textContent || "",
                    link: el.querySelector("link")?.textContent || "#",
                    desc: el.querySelector("description")?.textContent.replace(/<\/?[^>]+(>|$)/g, "").substring(0, 110) + "...",
                    date: new Date(el.querySelector("pubDate")?.textContent || Date.now())
                });
            });
        } catch (e) { console.log("–ü—Ä–æ–±–ª–µ–º —Å–æ:", src.name); }
    }

    CURRENT_NEWS.sort((a, b) => b.date - a.date);
    displayNews(CURRENT_NEWS);
}

function displayNews(newsArray) {
    const grid = document.getElementById('news-grid');
    grid.innerHTML = "";
    newsArray.forEach(news => {
        grid.innerHTML += `
            <div class="card">
                <div class="card-body">
                    <span class="source-tag">${news.source}</span>
                    <div class="title">${news.title}</div>
                    <p class="desc">${news.desc}</p>
                    <a href="${news.link}" target="_blank" class="link-btn">–ü—Ä–æ—á–∏—Ç–∞—ò ‚Üí</a>
                </div>
            </div>`;
    });
}

function filterNews() {
    const query = document.getElementById('search-input').value.toLowerCase();
    const filtered = CURRENT_NEWS.filter(n => n.title.toLowerCase().includes(query) || n.source.toLowerCase().includes(query));
    displayNews(filtered);
}

loadCategory('MK');
</script>
</body>
</html>
