<!DOCTYPE html>
<html lang="mk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Makedon World News</title>

  <style>
    body{
      margin:0;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,sans-serif;
      line-height:1.6;
      background:#f5f5f5;
      color:#222;
    }

    header{
      background:#111;
      color:#fff;
      text-align:center;
      padding:22px 16px 16px;
    }

    header img{
      max-width:220px;
      width:100%;
      height:auto;
      border-radius:12px;
      display:block;
      margin:0 auto;
    }

    .site-title{
      font-size:2.6em;
      font-weight:800;
      margin:12px 0 6px;
    }

    .site-tagline{
      font-size:1.05em;
      color:#ddd;
      margin:0;
    }

    .container{
      max-width:900px;
      margin:0 auto;
      padding:0 16px;
    }

    section{
      background:#fff;
      border-radius:10px;
      padding:22px;
      margin:18px auto;
      box-shadow:0 1px 0 rgba(0,0,0,0.04);
    }

    .trust{
      background:#111;
      color:#fff;
    }
    .trust hr{ opacity:0.25; }

    h2{ margin:0 0 12px; }
    h3{ margin:18px 0 10px; }

    a{ color:#0b5ed7; text-decoration:none; }
    a:hover{ text-decoration:underline; }

    /* RSS */
    .rss-topbar{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .badge{
      display:inline-block;
      font-size:0.85em;
      padding:6px 10px;
      border-radius:999px;
      background:#f0f0f0;
      color:#333;
    }
    .btn{
      border:1px solid #ddd;
      background:#fff;
      padding:8px 12px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
    }
    .btn:hover{ background:#fafafa; }

    .rss-item{
      margin:10px 0 14px;
      padding:12px;
      border:1px solid #eee;
      border-radius:12px;
      background:#fff;
    }
    .rss-item strong{ display:inline-block; margin-bottom:2px; }

    footer{
      background:#111;
      color:#eee;
      padding:32px 16px;
      margin-top:40px;
      text-align:center;
      font-size:0.95em;
    }

    .footer-links a{
      color:#eee;
      text-decoration:none;
      margin:0 10px;
      display:inline-block;
      padding:6px 0;
    }
    .footer-links a:hover{ text-decoration:underline; }

    .footer-divider{
      height:1px;
      background:#2a2a2a;
      margin:18px auto;
      max-width:520px;
    }

    @media (max-width:600px){
      .site-title{ font-size:2.1em; }
      header img{ max-width:180px; }
      .rss-topbar{ justify-content:flex-start; }
    }
  </style>
</head>

<body>
  <header>
    <img src="hero.jpg" alt="Makedon World News ‚Äì –Ω–µ–∑–∞–≤–∏—Å–µ–Ω –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –Ω–∞ –≤–µ—Å—Ç–∏" />
    <div class="site-title">üåç Makedon World News</div>
    <hr style="border:0;height:1px;background:rgba(255,255,255,0.35);width:100%;margin:12px 0 14px;">
    <p class="site-tagline">–ù–µ–∑–∞–≤–∏—Å–µ–Ω –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –Ω–∞ –≤–µ—Å—Ç–∏ –æ–¥ –ú–∞–∫–µ–¥–æ–Ω–∏—ò–∞, –ë–∞–ª–∫–∞–Ω–æ—Ç, –ï–≤—Ä–æ–ø–∞ –∏ —Å–≤–µ—Ç–æ—Ç.</p>
  </header>

  <div class="container">

    <section id="about">
      <h2>üõ°Ô∏è About / Mission</h2>

      <p><strong>Makedon World News</strong> –µ –Ω–µ–∑–∞–≤–∏—Å–µ–Ω –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –Ω–∞ –≤–µ—Å—Ç–∏ –æ–¥ –†–µ–ø—É–±–ª–∏–∫–∞ –°–µ–≤–µ—Ä–Ω–∞ –ú–∞–∫–µ–¥–æ–Ω–∏—ò–∞,
      –ë–∞–ª–∫–∞–Ω–æ—Ç, –ï–≤—Ä–æ–ø–∞ –∏ —Å–≤–µ—Ç–æ—Ç.</p>

      <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–±–∏—Ä–∞, —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∏—Ä–∞ –∏ –ø—Ä–∏–∫–∞–∂—É–≤–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–¥ –¥–æ–≤–µ—Ä–ª–∏–≤–∏ –º–µ–¥–∏—É–º—Å–∫–∏ –∏–∑–≤–æ—Ä–∏,
      —Å–æ —Ü–µ–ª –∫–æ—Ä–∏—Å–Ω–∏—Ü–∏—Ç–µ –¥–∞ –¥–æ–±–∏—ò–∞—Ç –±—Ä–∑, —ò–∞—Å–µ–Ω –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω –ø—Ä–µ–≥–ª–µ–¥ –Ω–∞ –∞–∫—Ç—É–µ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç–∞–Ω–∏.</p>

      <p>Makedon World News –Ω–µ —Å–æ–∑–¥–∞–≤–∞ —Å–æ–ø—Å—Ç–≤–µ–Ω–∏ –≤–µ—Å—Ç–∏ –∏ –Ω–µ –ø—Ä–æ–º–æ–≤–∏—Ä–∞ –ø–æ–ª–∏—Ç–∏—á–∫–∏, –Ω–∞—Ü–∏–æ–Ω–∞–ª–Ω–∏ –∏–ª–∏ –∏–¥–µ–æ–ª–æ—à–∫–∏ –∞–≥–µ–Ω–¥–∏.</p>

      <h3>üéØ –ù–∞—à–∞—Ç–∞ –º–∏—Å–∏—ò–∞</h3>
      <ul>
        <li>–°–ª–æ–±–æ–¥–µ–Ω –∏ –æ—Ç–≤–æ—Ä–µ–Ω –ø—Ä–∏—Å—Ç–∞–ø –¥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</li>
        <li>–ü–æ—Ç—Ç–∏–∫–Ω—É–≤–∞—ö–µ –Ω–∞ –º–µ–¥–∏—É–º—Å–∫–∞ –ø–∏—Å–º–µ–Ω–æ—Å—Ç</li>
        <li>–ü–æ–¥–æ–±—Ä–æ —Ä–∞–∑–±–∏—Ä–∞—ö–µ –Ω–∞ –Ω–∞—Å—Ç–∞–Ω–∏—Ç–µ –ø—Ä–µ–∫—É –ø–æ–≤–µ—ú–µ –∏–∑–≤–æ—Ä–∏</li>
        <li>–ù–∞–º–∞–ª—É–≤–∞—ö–µ –Ω–∞ –≤–ª–∏—ò–∞–Ω–∏–µ—Ç–æ –Ω–∞ –¥–µ–∑–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</li>
      </ul>

      <h3>üåç English Version</h3>
      <p><strong>Makedon World News</strong> is an independent news aggregator based in the Republic of North Macedonia,
      covering the Balkans, Europe, and the world.</p>
      <p>We aggregate and link to original sources so users can compare coverage and form informed opinions.</p>
    </section>

    <section id="trust" class="trust">
      <h2>üîê –î–æ–≤–µ—Ä–±–∞ &amp; –¢—Ä–∞–Ω—Å–ø–∞—Ä–µ–Ω—Ç–Ω–æ—Å—Ç</h2>
      <p>Makedon World News –Ω–µ –∫—Ä–µ–∏—Ä–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∞ –Ω–æ–≤–∏–Ω–∞—Ä—Å–∫–∞ —Å–æ–¥—Ä–∂–∏–Ω–∞ ‚Äì –∞–≥—Ä–µ–≥–∏—Ä–∞ –∏ —É–ø–∞—Ç—É–≤–∞ –∫–æ–Ω –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏ –∏–∑–≤–æ—Ä–∏,
      —Å–æ —ò–∞—Å–Ω–æ –Ω–∞–≤–µ–¥—É–≤–∞—ö–µ –Ω–∞ –∏–∑–≤–æ—Ä–æ—Ç –∑–∞ —Å–µ–∫–æ—ò–∞ –≤–µ—Å—Ç.</p>
      <p>–¶–µ–ª—Ç–∞ –µ —Ç—Ä–∞–Ω—Å–ø–∞—Ä–µ–Ω—Ç–Ω–æ –∏ –Ω–µ–ø—Ä–∏—Å—Ç—Ä–∞—Å–Ω–æ –¥–∞ –ø—Ä–∏–∫–∞–∂–µ–º–µ –ø–æ–≤–µ—ú–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏ –∏–∑–≤–æ—Ä–∏ –∑–∞ –∏—Å—Ç –Ω–∞—Å—Ç–∞–Ω.</p>
    </section>

    <section id="rss">
      <h2>üì∞ –í–µ—Å—Ç–∏ –≤–æ –∂–∏–≤–æ</h2>

      <div class="rss-topbar">
        <div class="badge" id="rss-status">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞‚Ä¶</div>

        <button class="btn" id="btn-refresh" type="button">‚Üª –û—Å–≤–µ–∂–∏</button>
      </div>

      <div id="rss-feed"></div>

      <p style="font-size:0.9em;color:#777;margin-top:12px;">
        –ó–∞–±–µ–ª–µ—à–∫–∞: –ù–∞ GitHub Pages RSS –Ω–∞—ò—Å—Ç–∞–±–∏–ª–Ω–æ —Ä–∞–±–æ—Ç–∏ –ø—Ä–µ–∫—É –ª–æ–∫–∞–ª–µ–Ω <code>data/news.json</code> (–≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç—Å–∫–∏).
      </p>
    </section>

  </div>

  <footer>
    <div style="margin-bottom:10px;">
      <strong style="letter-spacing:0.3px;font-size:1.15em;">üåç Makedon World News</strong>
    </div>

    <div class="footer-links">
      <a href="https://www.facebook.com/share/1CycSPu4qU/" target="_blank" rel="noopener">Facebook</a> ‚Ä¢
      <a href="https://www.instagram.com/makedonworldnews" target="_blank" rel="noopener">Instagram</a> ‚Ä¢
      <a href="https://www.tiktok.com/@makedon.worldnews" target="_blank" rel="noopener">TikTok</a> ‚Ä¢
      <a href="https://x.com/makedonworldnew" target="_blank" rel="noopener">X</a> ‚Ä¢
      <a href="https://youtube.com/@makedonworldnews" target="_blank" rel="noopener">YouTube</a>
    </div>

    <div class="footer-divider"></div>
    <div style="font-size:0.95em;color:#aaa;">¬© 2026 Makedon World News. All rights reserved.</div>
  </footer>

  <script>
    const statusEl = document.getElementById("rss-status");
    const feedEl = document.getElementById("rss-feed");
    const btn = document.getElementById("btn-refresh");
if(!statusEl || !feedEl || !btn){
  console.error("Missing elements:", { statusEl, feedEl, btn });
}

    function esc(s){
      return (s ?? "").toString()
        .replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")
        .replaceAll('"',"&quot;").replaceAll("'","&#039;");
    }function formatMKDate(iso){
  if(!iso) return "";
  const d = new Date(iso);
  if(isNaN(d)) return iso;

  const months = ["—ò–∞–Ω.","—Ñ–µ–≤.","–º–∞—Ä.","–∞–ø—Ä.","–º–∞—ò","—ò—É–Ω.","—ò—É–ª.","–∞–≤–≥.","—Å–µ–ø.","–æ–∫—Ç.","–Ω–æ–µ.","–¥–µ–∫."];

  const dd = String(d.getDate()).padStart(2, "0");
  const mm = months[d.getMonth()];
  const yyyy = d.getFullYear();
  const hh = String(d.getHours()).padStart(2, "0");
  const min = String(d.getMinutes()).padStart(2, "0");

  return `${dd} ${mm} ${yyyy}, ${hh}:${min}`;
}


    function render(data){
      feedEl.innerHTML = "";

      if(!data){
        statusEl.textContent = "–ù–µ–º–∞ –ø–æ–¥–∞—Ç–æ—Ü–∏.";
        return;
      }

      // –ø–æ–¥–¥—Ä—à–∫–∞ –∑–∞ –¥–≤–∞—Ç–∞ —Ñ–æ—Ä–º–∞—Ç–∞:
      // 1) { generated_at, groups:[...] }
      // 2) { updatedAt, groups:[...] }  (–∫–∞—ò —Ç–µ–±–µ –æ–≤–∞ —Å–µ –≥–ª–µ–¥–∞ –≤–æ data/news.json)
      const groups = Array.isArray(data.groups) ? data.groups : null;
      if(!groups){
        statusEl.textContent = "–ù–µ–º–∞ –ø–æ–¥–∞—Ç–æ—Ü–∏ (data/news.json).";
        return;
      }

      let total = 0;

      for(const group of groups){
        const h3 = document.createElement("h3");
        h3.textContent = "üåç " + (group.region || "–†–µ–≥–∏–æ–Ω");
        feedEl.appendChild(h3);

        const items = Array.isArray(group.items) ? group.items : [];
        for(const it of items){
          total++;

          const div = document.createElement("div");
          div.className = "rss-item";
          div.innerHTML = `
            <strong>[${esc(it.source || "–ò–∑–≤–æ—Ä")}]</strong> ${esc(it.title || "")}<br>
            <a href="${esc(it.link || "#")}" target="_blank" rel="noopener">–ü—Ä–æ—á–∏—Ç–∞—ò –ø–æ–≤–µ—ú–µ</a>
          `;
          feedEl.appendChild(div);
        }
      }

      const whenRaw = data.updatedAt || data.generated_at || data.generated_at_utc || "";
const whenFmt = formatMKDate(whenRaw);
const when = whenFmt ? ` ‚Ä¢ ${whenFmt}` : "";

    }

    async function load(){
  statusEl.textContent = "–í—á–∏—Ç—É–≤–∞—ö–µ‚Ä¶";

  const controller = new AbortController();
  const t = setTimeout(() => controller.abort(), 12000); // 12 —Å–µ–∫.

  try{
    const url = "data/news.json?ts=" + Date.now();
    const res = await fetch(url, { cache:"no-store", signal: controller.signal });
    if(!res.ok) throw new Error("HTTP " + res.status);

    const data = await res.json();
    render(data);
  }catch(e){
    statusEl.textContent = "–ù–µ–º–∞ –≤–µ—Å—Ç–∏ (–ø—Ä–æ–≤–µ—Ä–∏ data/news.json).";
    feedEl.innerHTML = `
      <div style="color:#a00;font-size:0.95em;">
        ‚ö†Ô∏è –í—á–∏—Ç—É–≤–∞—ö–µ—Ç–æ –∑–∞–≥–ª–∞–≤–∏ –∏–ª–∏ –ø–∞–¥–Ω–∞. –û—Ç–≤–æ—Ä–∏:
        <a href="data/news.json" target="_blank" rel="noopener">data/news.json</a>
      </div>
    `;
    console.error(e);
  }finally{
    clearTimeout(t);
  }
}


    document.addEventListener("DOMContentLoaded", () => {
  const statusEl = document.getElementById("rss-status");
  const feedEl = document.getElementById("rss-feed");
  const btn = document.getElementById("btn-refresh");

  if(btn) btn.addEventListener("click", load);
  load();
  setInterval(load, 10 * 60 * 1000);
});

  statusEl.textContent = "–í—á–∏—Ç—É–≤–∞—ö–µ‚Ä¶";
  const controller = new AbortController();
  const t = setTimeout(() => controller.abort(), 12000); // 12 —Å–µ–∫.

  try{
    const url = "data/news.json?ts=" + Date.now();
    async function load(){
  statusEl.textContent = "–í—á–∏—Ç—É–≤–∞—ö–µ‚Ä¶";

  const controller = new AbortController();
  const t = setTimeout(() => controller.abort(), 12000); // 12 —Å–µ–∫.

  try{
    const url = "data/news.json?ts=" + Date.now();
    const res = await fetch(url, { cache:"no-store", signal: controller.signal });

    if(!res.ok) throw new Error("HTTP " + res.status);

    const data = await res.json();
    render(data);
  }catch(e){
    statusEl.textContent = "–ù–µ–º–∞ –≤–µ—Å—Ç–∏ (–ø—Ä–æ–≤–µ—Ä–∏ data/news.json).";
    feedEl.innerHTML = `
      <div style="color:#a00;font-size:0.95em;">
        ‚ö†Ô∏è –í—á–∏—Ç—É–≤–∞—ö–µ—Ç–æ –∑–∞–≥–ª–∞–≤–∏ –∏–ª–∏ –ø–∞–¥–Ω–∞. –û—Ç–≤–æ—Ä–∏: 
        <a href="data/news.json" target="_blank" rel="noopener">data/news.json</a>
      </div>
    `;
    console.error(e);
  }finally{
    clearTimeout(t);
  }
}

<script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const statusEl = document.getElementById("rss-status");
  const feedEl = document.getElementById("rss-feed");
  const btn = document.getElementById("btn-refresh");

  function esc(s){
    return (s ?? "").toString()
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }

  function formatMKDate(iso){
    if(!iso) return "";
    const d = new Date(iso);
    if(isNaN(d)) return iso;
    const months = ["—ò–∞–Ω.","—Ñ–µ–≤.","–º–∞—Ä.","–∞–ø—Ä.","–º–∞—ò","—ò—É–Ω.","—ò—É–ª.","–∞–≤–≥.","—Å–µ–ø.","–æ–∫—Ç.","–Ω–æ–µ.","–¥–µ–∫."];
    const dd = String(d.getDate()).padStart(2,"0");
    const hh = String(d.getHours()).padStart(2,"0");
    const min = String(d.getMinutes()).padStart(2,"0");
    return `${dd} ${months[d.getMonth()]} ${d.getFullYear()}, ${hh}:${min}`;
  }

  function render(data){
    feedEl.innerHTML = "";

    if(!data || !Array.isArray(data.groups)){
      statusEl.textContent = "–ù–µ–º–∞ –ø–æ–¥–∞—Ç–æ—Ü–∏.";
      return;
    }

    let total = 0;

    for(const group of data.groups){
      const h3 = document.createElement("h3");
      h3.textContent = "üåç " + (group.region || "–†–µ–≥–∏–æ–Ω");
      feedEl.appendChild(h3);

      const items = Array.isArray(group.items) ? group.items : [];
      for(const it of items){
        total++;
        const div = document.createElement("div");
        div.className = "rss-item";
        div.innerHTML = `
          <strong>[${esc(it.source || "–ò–∑–≤–æ—Ä")}]</strong> ${esc(it.title || "")}<br>
          <a href="${esc(it.link || "#")}" target="_blank" rel="noopener">–ü—Ä–æ—á–∏—Ç–∞—ò –ø–æ–≤–µ—ú–µ</a>
        `;
        feedEl.appendChild(div);
      }
    }

    const whenRaw = data.updatedAt || data.generated_at || data.generated_at_utc || "";
    const whenFmt = formatMKDate(whenRaw);
    statusEl.textContent = total
      ? `–ê–∂—É—Ä–∏—Ä–∞–Ω–æ (${total})${whenFmt ? " ‚Ä¢ " + whenFmt : ""}`
      : "–ù–µ–º–∞ –≤—á–∏—Ç–∞–Ω–∏ –≤–µ—Å—Ç–∏.";
  }

  async function load(){
    statusEl.textContent = "–í—á–∏—Ç—É–≤–∞—ö–µ‚Ä¶";

    const controller = new AbortController();
    const t = setTimeout(() => controller.abort(), 12000);

    try{
      const res = await fetch("data/news.json?ts=" + Date.now(), { cache:"no-store", signal: controller.signal });
      if(!res.ok) throw new Error("HTTP " + res.status);

      const data = await res.json();
      render(data);
    }catch(e){
      statusEl.textContent = "–ù–µ–º–∞ –≤–µ—Å—Ç–∏ (–ø—Ä–æ–≤–µ—Ä–∏ data/news.json).";
      feedEl.innerHTML = `
        <div style="color:#a00;font-size:0.95em;">
          ‚ö†Ô∏è –ù–µ –º–æ–∂–∞–º –¥–∞ –≥–æ –≤—á–∏—Ç–∞–º <code>data/news.json</code>.
          <a href="data/news.json" target="_blank" rel="noopener">–û—Ç–≤–æ—Ä–∏</a>
        </div>
      `;
      console.error(e);
    }finally{
      clearTimeout(t);
    }
  }

  if(btn) btn.addEventListener("click", load);
  load();
  setInterval(load, 10 * 60 * 1000);
});
</script>

</script>

</body>
</html>
