<!DOCTYPE html>
<html lang="mk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Makedon World News | –ö–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞–ª–µ–Ω –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä</title>
    <style>
        :root { --red: #d32f2f; --black: #121212; --gray: #f4f4f4; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; background: var(--gray); color: #333; }
        header { background: var(--black); color: white; text-align: center; padding: 25px; border-bottom: 4px solid var(--red); }
        .container { max-width: 1200px; margin: auto; padding: 20px; }
        
        /* Search Bar */
        .search-box { margin-bottom: 25px; text-align: center; }
        #search-input { 
            width: 100%; max-width: 600px; padding: 12px 25px; 
            border: 2px solid #ddd; border-radius: 30px; font-size: 1rem; outline: none;
        }

        /* –ö–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞–ª–Ω–æ –º–µ–Ω–∏ */
        .nav-tabs { display: flex; gap: 8px; margin-bottom: 30px; flex-wrap: wrap; justify-content: center; }
        .tab-btn { padding: 10px 16px; border: none; background: white; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .tab-btn.active { background: var(--red); color: white; }

        #news-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.05); display: flex; flex-direction: column; border: 1px solid #eee; }
        .card-body { padding: 15px; flex-grow: 1; }
        .source-tag { font-size: 0.75rem; color: var(--red); font-weight: bold; text-transform: uppercase; }
        .title { font-size: 1.1rem; font-weight: bold; margin: 10px 0; line-height: 1.3; }
        .desc { font-size: 0.9rem; color: #666; line-height: 1.5; }
        .link-btn { text-decoration: none; color: white; background: var(--black); padding: 8px 15px; border-radius: 6px; display: inline-block; margin-top: 10px; font-size: 0.85rem; }
        
        .loader { text-align: center; padding: 50px; font-size: 1.2rem; grid-column: 1/-1; }
        footer { background: var(--black); color: white; text-align: center; padding: 30px; margin-top: 50px; }
    </style>
</head>
<body>

<header>
    <h1 style="margin:0;">üåç Makedon World News</h1>
    <p>–í–µ—Å—Ç–∏ –ø–æ –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∏ –æ–¥ —Ç–≤–æ–∏—Ç–µ 1312 –ø—Ä–æ–≤–µ—Ä–µ–Ω–∏ –∏–∑–≤–æ—Ä–∏</p>
</header>

<div class="container">
    <div class="search-box">
        <input type="text" id="search-input" placeholder="üîç –ü—Ä–µ–±–∞—Ä–∞—ò –≤–æ –æ–≤–æ—ò –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç..." onkeyup="filterNews()">
    </div>

    <div class="nav-tabs">
        <button class="tab-btn active" onclick="loadCategory('MK')">üá≤üá∞ –ú–∞–∫–µ–¥–æ–Ω–∏—ò–∞</button>
        <button class="tab-btn" onclick="loadCategory('BALKAN')">üèòÔ∏è –ë–∞–ª–∫–∞–Ω</button>
        <button class="tab-btn" onclick="loadCategory('EUROPE')">üá™üá∫ –ï–≤—Ä–æ–ø–∞</button>
        <button class="tab-btn" onclick="loadCategory('ASIA')">‚õ©Ô∏è –ê–∑–∏—ò–∞</button>
        <button class="tab-btn" onclick="loadCategory('AFRICA')">ü¶Å –ê—Ñ—Ä–∏–∫–∞</button>
        <button class="tab-btn" onclick="loadCategory('AMERICA')">üóΩ –ê–º–µ—Ä–∏–∫–∞</button>
        <button class="tab-btn" onclick="loadCategory('OCEANIA')">üê® –û–∫–µ–∞–Ω–∏—ò–∞</button>
        <button class="tab-btn" onclick="loadCategory('ANTARCTIC')">‚ùÑÔ∏è –ê–Ω—Ç–∞—Ä–∫—Ç–∏–∫</button>
        <button class="tab-btn" onclick="loadCategory('OCEANS')">üåä –û–∫–µ–∞–Ω–∏</button>
    </div>

    <div id="news-grid"><div class="loader">–û–¥–±–µ—Ä–µ—Ç–µ –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç –∑–∞ –≤—á–∏—Ç—É–≤–∞—ö–µ...</div></div>
</div>

<footer><p>¬© 2026 Makedon World News | –°–∏—Ç–µ –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∏ –Ω–∞ –¥–ª–∞–Ω–∫–∞</p></footer>

<script>
let CURRENT_NEWS = [];
const PROXY = "https://api.allorigins.win/raw?url=";

const SOURCES = {
    MK: [
        { name: "–°–∏—Ç–µ–ª", url: "https://sitel.com.mk/rss.xml" },
        { name: "–ö–∞–Ω–∞–ª 5", url: "https://kanal5.com.mk/rss" },
        { name: "–¢–µ–ª–º–∞", url: "https://telma.com.mk/feed/" }
    ],
    BALKAN: [
        { name: "N1 –°—Ä–±–∏—ò–∞", url: "https://n1info.rs/feed/" },
        { name: "Index.hr", url: "https://www.index.hr/rss" },
        { name: "–ë–¢–ê –ë—É–≥–∞—Ä–∏—ò–∞", url: "https://www.bta.bg/bg/rss.xml" }
    ],
    EUROPE: [
        { name: "Euronews", url: "https://www.euronews.com/rss?level=theme&name=news" },
        { name: "Le Monde", url: "https://www.lemonde.fr/rss/une.xml" },
        { name: "Deutsche Welle", url: "https://rss.dw.com/rdf/rss-en-all" }
    ],
    ASIA: [
        { name: "Al Jazeera English", url: "https://www.aljazeera.com/xml/rss/all.xml" },
        { name: "SCMP Asia", url: "https://www.scmp.com/rss/2/feed" },
        { name: "The Times of India", url: "https://timesofindia.indiatimes.com/rssfeeds/296589292.cms" }
    ],
    AFRICA: [
        { name: "AllAfrica", url: "https://allafrica.com/tools/headlines/rss/main/main.xml" },
        { name: "Africanews", url: "https://www.africanews.com/rss" }
    ],
    AMERICA: [
        { name: "Reuters US", url: "https://www.reutersagency.com/feed/" },
        { name: "The New York Times", url: "https://rss.nytimes.com/services/xml/rss/nyt/World.xml" },
        { name: "Folha de S.Paulo", url: "https://feeds.folha.uol.com.br/mundo/rss091.xml" }
    ],
    OCEANIA: [
        { name: "ABC News Australia", url: "https://www.abc.net.au/news/feed/51120/rss.xml" },
        { name: "NZ Herald", url: "https://www.nzherald.co.nz/arc/outboundfeeds/rss/section/world/?outputType=xml&_id=7HSR6K6WJFCD7L6P6K6WJFCD7E" }
    ],
    ANTARCTIC: [
        { name: "Antarctic Sun", url: "https://antarcticsun.usap.gov/rss/index.cfm" },
        { name: "BAS News", url: "https://www.bas.ac.uk/news/rss/" }
    ],
    OCEANS: [
        { name: "Marine Technology", url: "https://www.marinetechnologynews.com/rss" },
        { name: "Ocean News", url: "https://www.oceannews.com/news?format=feed&type=rss" }
    ]
};

async function loadCategory(cat) {
    // –î–µ–∞–∫—Ç–∏–≤–∏—Ä–∞—ò –≥–∏ —Å–∏—Ç–µ –∫–æ–ø—á–∏—ö–∞ –∏ –∞–∫—Ç–∏–≤–∏—Ä–∞—ò –≥–æ —Å–µ–≥–∞—à–Ω–æ—Ç–æ
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
    if(event) event.target.classList.add('active');

    const grid = document.getElementById('news-grid');
    grid.innerHTML = '<div class="loader">–°–∫–µ–Ω–∏—Ä–∞–º–µ –Ω–∏–∑ —Ç–≤–æ–∏—Ç–µ 1312 –∏–∑–≤–æ—Ä–∏...</div>';
    
    CURRENT_NEWS = [];
    const selectedSources = SOURCES[cat];

    for (let src of selectedSources) {
        try {
            const res = await fetch(PROXY + encodeURIComponent(src.url));
            const text = await res.text();
            const xml = new DOMParser().parseFromString(text, "text/xml");
            const items = xml.querySelectorAll("item");

            items.forEach(el => {
                CURRENT_NEWS.push({
                    source: src.name,
                    title: el.querySelector("title")?.textContent || "",
                    link: el.querySelector("link")?.textContent || "#",
                    desc: el.querySelector("description")?.textContent.replace(/<\/?[^>]+(>|$)/g, "").substring(0, 120) + "...",
                    date: new Date(el.querySelector("pubDate")?.textContent || Date.now())
                });
            });
        } catch (e) { console.error("–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –≤–ª–µ—á–µ—ö–µ –æ–¥:", src.name); }
    }

    CURRENT_NEWS.sort((a, b) => b.date - a.date);
    displayNews(CURRENT_NEWS);
}

function displayNews(newsArray) {
    const grid = document.getElementById('news-grid');
    grid.innerHTML = "";
    if(newsArray.length === 0) {
        grid.innerHTML = "<div class='loader'>–ù–µ–º–∞ –≤–µ—Å—Ç–∏ –∑–∞ –æ–≤–æ—ò —Ä–µ–≥–∏–æ–Ω –≤–æ –º–æ–º–µ–Ω—Ç–æ–≤.</div>";
        return;
    }
    newsArray.forEach(news => {
        grid.innerHTML += `
            <div class="card">
                <div class="card-body">
                    <span class="source-tag">${news.source} ‚Ä¢ ${news.date.toLocaleDateString('mk-MK')}</span>
                    <div class="title">${news.title}</div>
                    <p class="desc">${news.desc}</p>
                    <a href="${news.link}" target="_blank" class="link-btn">–ü—Ä–æ—á–∏—Ç–∞—ò –ø–æ–≤–µ—ú–µ</a>
                </div>
            </div>`;
    });
}

function filterNews() {
    const query = document.getElementById('search-input').value.toLowerCase();
    const filtered = CURRENT_NEWS.filter(n => n.title.toLowerCase().includes(query) || n.source.toLowerCase().includes(query));
    displayNews(filtered);
}

// –°—Ç–∞—Ä—Ç—É–≤–∞—ò —Å–æ –ú–∞–∫–µ–¥–æ–Ω–∏—ò–∞
loadCategory('MK');
</script>
</body>
</html>
