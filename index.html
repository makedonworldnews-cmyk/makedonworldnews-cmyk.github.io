<!DOCTYPE html>
<html lang="mk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Makedon World News | Global Intelligence</title>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <style>
        :root { --red: #d32f2f; --black: #121212; --gray: #f4f4f4; --blue: #0088cc; --green: #25d366; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--gray); color: #333; }
        
        header { background: var(--black); color: white; text-align: center; padding: 30px 15px; border-bottom: 5px solid var(--red); }
        .container { max-width: 1300px; margin: auto; padding: 20px; }

        /* AI & Social Hub */
        .hub-bar { 
            display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; 
            background: white; padding: 15px; border-radius: 15px; margin: -30px auto 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); position: relative; z-index: 10; border: 1px solid #ddd;
        }
        .hub-link { text-decoration: none; color: #444; font-weight: bold; font-size: 0.8rem; display: flex; align-items: center; gap: 4px; padding: 5px 10px; border-radius: 5px; transition: 0.2s; }
        .hub-link:hover { background: #f0f0f0; color: var(--red); }

        /* News Cards */
        #news-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 25px; }
        .card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border: 1px solid #eee; display: flex; flex-direction: column; transition: 0.3s; }
        .card:hover { transform: translateY(-8px); box-shadow: 0 12px 25px rgba(0,0,0,0.1); }
        .card img { width: 100%; height: 190px; object-fit: cover; background: #eee; }
        .card-body { padding: 18px; flex-grow: 1; }
        .source-tag { font-size: 0.7rem; color: var(--red); font-weight: 900; text-transform: uppercase; letter-spacing: 1px; }
        .title { font-size: 1.15rem; font-weight: bold; margin: 10px 0; line-height: 1.3; }
        
        /* Magic Share Buttons */
        .share-bar { display: flex; gap: 10px; margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee; }
        .share-btn { padding: 6px 10px; border-radius: 5px; color: white; text-decoration: none; font-size: 0.75rem; font-weight: bold; flex: 1; text-align: center; }
        .wa { background: var(--green); } .tg { background: var(--blue); } .ms { background: #0078ff; }

        .nav-tabs { display: flex; gap: 8px; margin-bottom: 30px; flex-wrap: wrap; justify-content: center; }
        .tab-btn { padding: 12px 20px; border: none; background: white; border-radius: 10px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .tab-btn.active { background: var(--red); color: white; }

        footer { background: var(--black); color: #888; text-align: center; padding: 40px; margin-top: 60px; }
        .contact-mail { color: var(--red); text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <h1 style="margin:0; font-size: 2.5rem;">üåç Makedon World News</h1>
    <p style="opacity: 0.7;">–ü–∞–º–µ—Ç–µ–Ω –ø–ª–∞–Ω–µ—Ç–∞—Ä–µ–Ω –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä</p>
    <div id="google_translate_element" style="margin-top:15px;"></div>
</header>

<div class="container">
    <div class="hub-bar">
        <span style="color:var(--red); font-weight:bold;">ü§ñ AI:</span>
        <a href="https://gemini.google.com" target="_blank" class="hub-link">‚ôä Gemini</a>
        <a href="https://chatgpt.com" target="_blank" class="hub-link">ü§ñ GPT</a>
        <a href="https://chat.deepseek.com" target="_blank" class="hub-link">üß† DeepSeek</a>
        <a href="https://claude.ai" target="_blank" class="hub-link">üé≠ Claude</a>
        <a href="https://www.perplexity.ai" target="_blank" class="hub-link">üîç Perplex</a>
        
        <span style="border-left: 1px solid #ddd; margin: 0 10px;"></span>
        
        <span style="color:var(--red); font-weight:bold;">üì≤ –ú–†–ï–ñ–ò:</span>
        <a href="https://facebook.com" target="_blank" class="hub-link">FB</a>
        <a href="https://x.com" target="_blank" class="hub-link">X</a>
        <a href="mailto:makedonworldnews@gmail.com" class="hub-link">üìß –ö–æ–Ω—Ç–∞–∫—Ç</a>
    </div>

    <div class="nav-tabs">
        <button class="tab-btn active" onclick="loadCategory('MK')">üá≤üá∞ –ú–∞–∫–µ–¥–æ–Ω–∏—ò–∞</button>
        <button class="tab-btn" onclick="loadCategory('BALKAN')">üèòÔ∏è –ë–∞–ª–∫–∞–Ω</button>
        <button class="tab-btn" onclick="loadCategory('EUROPE')">üá™üá∫ –ï–≤—Ä–æ–ø–∞</button>
        <button class="tab-btn" onclick="loadCategory('ASIA')">‚õ©Ô∏è –ê–∑–∏—ò–∞</button>
        <button class="tab-btn" onclick="loadCategory('AFRICA')">ü¶Å –ê—Ñ—Ä–∏–∫–∞</button>
        <button class="tab-btn" onclick="loadCategory('AMERICA')">üóΩ –ê–º–µ—Ä–∏–∫–∞</button>
        <button class="tab-btn" onclick="loadCategory('OCEANIA')">üê® –û–∫–µ–∞–Ω–∏—ò–∞</button>
        <button class="tab-btn" onclick="loadCategory('ANTARCTIC')">‚ùÑÔ∏è –ê–Ω—Ç–∞—Ä–∫—Ç–∏–∫</button>
        <button class="tab-btn" onclick="loadCategory('OCEANS')">üåä –û–∫–µ–∞–Ω–∏</button>
    </div>

    <div id="news-grid"></div>
</div>

<footer>
    <p>–ü—Ä–æ–µ–∫—Ç –Ω–∞ <strong>–°–∞–Ω–¥–µ</strong> | 1312 –ì–ª–æ–±–∞–ª–Ω–∏ –ò–∑–≤–æ—Ä–∏</p>
    <p>–ö–æ–Ω—Ç–∞–∫—Ç: <a href="mailto:makedonworldnews@gmail.com" class="contact-mail">makedonworldnews@gmail.com</a></p>
</footer>

<script>
let CURRENT_NEWS = [];
const PROXY = "https://api.allorigins.win/raw?url=";

function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'mk'}, 'google_translate_element');
}

const SOURCES = {
    MK: [{ name: "Sitel", url: "https://sitel.com.mk/rss.xml" }, { name: "Kanal 5", url: "https://kanal5.com.mk/rss" }],
    BALKAN: [{ name: "N1 Info", url: "https://n1info.rs/feed/" }],
    EUROPE: [{ name: "Euronews", url: "https://www.euronews.com/rss?level=theme&name=news" }],
    ASIA: [{ name: "Al Jazeera", url: "https://www.aljazeera.com/xml/rss/all.xml" }],
    AFRICA: [{ name: "AllAfrica", url: "https://allafrica.com/tools/headlines/rss/main/main.xml" }],
    AMERICA: [{ name: "Reuters US", url: "https://www.reutersagency.com/feed/" }],
    OCEANIA: [{ name: "ABC Australia", url: "https://www.abc.net.au/news/feed/51120/rss.xml" }],
    ANTARCTIC: [{ name: "Antarctic Sun", url: "https://antarcticsun.usap.gov/rss/index.cfm" }],
    OCEANS: [{ name: "Ocean News", url: "https://www.oceannews.com/news?format=feed&type=rss" }]
};

async function loadCategory(cat) {
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
    if(event) event.target.classList.add('active');
    const grid = document.getElementById('news-grid');
    grid.innerHTML = '<div style="grid-column:1/-1; text-align:center; padding:50px;">üì° –°–∫–µ–Ω–∏—Ä–∞—ö–µ –Ω–∞ –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω–∏—Ç–µ –º—Ä–µ–∂–∏...</div>';
    
    CURRENT_NEWS = [];
    for (let src of SOURCES[cat] || []) {
        try {
            const res = await fetch(PROXY + encodeURIComponent(src.url));
            const text = await res.text();
            const xml = new DOMParser().parseFromString(text, "text/xml");
            xml.querySelectorAll("item").forEach(el => {
                let img = "https://via.placeholder.com/400x200?text=Makedon+World+News";
                const desc = el.querySelector("description")?.textContent || "";
                const m = desc.match(/<img[^>]+src="([^">]+)"/);
                if(m) img = m[1];

                CURRENT_NEWS.push({
                    source: src.name,
                    title: el.querySelector("title")?.textContent || "",
                    link: el.querySelector("link")?.textContent || "#",
                    image: img,
                    date: el.querySelector("pubDate")?.textContent || ""
                });
            });
        } catch (e) {}
    }
    displayNews(CURRENT_NEWS);
}

function displayNews(news) {
    const grid = document.getElementById('news-grid');
    grid.innerHTML = "";
    news.slice(0, 30).forEach(n => {
        const shareTitle = encodeURIComponent(n.title);
        const shareUrl = encodeURIComponent(n.link);
        grid.innerHTML += `
            <div class="card">
                <img src="${n.image}" alt="img">
                <div class="card-body">
                    <span class="source-tag">${n.source}</span>
                    <div class="title">${n.title}</div>
                    <div class="share-bar">
                        <a href="https://wa.me/?text=${shareTitle}%20${shareUrl}" target="_blank" class="share-btn wa">WhatsApp</a>
                        <a href="https://t.me/share/url?url=${shareUrl}&text=${shareTitle}" target="_blank" class="share-btn tg">Telegram</a>
                        <a href="fb-messenger://share/?link=${shareUrl}" target="_blank" class="share-btn ms">Messeng</a>
                    </div>
                </div>
            </div>`;
    });
}

loadCategory('MK');
</script>
</body>
</html>
