<!DOCTYPE html>
<html lang="mk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAKEDON WORLD NEWS | SUPREME MONOLITH 1312</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Cinzel:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root { --gold: #c5a059; --bg: #000; --accent: #ff003c; }
        body { font-family: 'Cinzel', serif; background: var(--bg); color: #fff; margin: 0; overflow-x: hidden; }

        header { 
            border-bottom: 2px solid var(--gold); padding: 15px 30px; 
            background: #050505; display: flex; justify-content: space-between; align-items: center;
        }
        
        .logo-box { display: flex; align-items: center; gap: 15px; }
        .hero-img { width: 60px; border: 1px solid var(--gold); filter: drop-shadow(0 0 5px var(--gold)); }
        h1 { font-family: 'Orbitron'; font-size: 1.2rem; letter-spacing: 5px; color: var(--gold); margin: 0; }

        .ticker-wrap { background: #080808; border-bottom: 1px solid rgba(197, 160, 89, 0.3); padding: 5px 0; overflow: hidden; }
        .ticker-move { display: inline-block; white-space: nowrap; animation: ticker 100s linear infinite; font-family: 'Orbitron'; color: var(--gold); font-size: 0.7rem; }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        .main-container { display: flex; min-height: calc(100vh - 140px); }

        .sidebar { width: 260px; border-right: 1px solid var(--gold); background: #030303; padding: 20px; }
        .nav-link { 
            padding: 12px; color: #777; cursor: pointer; border-bottom: 1px solid #111; 
            font-size: 0.7rem; font-family: 'Orbitron'; transition: 0.3s;
        }
        .nav-link:hover, .nav-link.active { color: var(--gold); background: rgba(197, 160, 89, 0.1); border-left: 4px solid var(--gold); }

        .content { flex: 1; padding: 20px; background: #000; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        
        .card { border: 1px solid #222; background: #050505; transition: 0.4s; padding: 15px; position: relative; }
        .card:hover { border-color: var(--gold); transform: translateY(-3px); }
        .card-title { font-size: 0.9rem; color: #eee; margin-bottom: 15px; line-height: 1.4; font-weight: bold; }
        .btn { border: 1px solid var(--gold); background: transparent; color: var(--gold); padding: 8px; width: 100%; cursor: pointer; font-family: 'Orbitron'; font-size: 0.6rem; }
        .btn:hover { background: var(--gold); color: #000; }

        footer { 
            position: fixed; bottom: 0; width: 100%; background: #000; 
            border-top: 1px solid var(--gold); padding: 5px 20px; display: flex; 
            justify-content: space-between; font-family: 'Orbitron'; font-size: 0.6rem; color: var(--gold);
        }
        #loader { font-family: 'Orbitron'; color: var(--gold); text-align: center; padding: 50px; display: none; }
    </style>
</head>
<body>

<header>
    <div class="logo-box">
        <img src="https://raw.githubusercontent.com/makedonworldnews-cmyk/makedonworldnews-cmyk.github.io/main/hero.jpg" class="hero-img">
        <h1>MAKEDON WORLD NEWS</h1>
    </div>
    <div style="font-family:'Orbitron'; font-size:0.7rem; color:var(--gold);" id="clock">12:55:00</div>
</header>

<div class="ticker-wrap">
    <div id="ticker" class="ticker-move">+++ МОТОР 1312 АКТИВИРАН +++ СИСТЕМСКА ПРОВЕРКА... OK +++ ГЛОБАЛНИ ИЗВОРИ: ОНЛАЈН +++</div>
</div>

<div class="main-container">
    <aside class="sidebar" id="menu"></aside>
    <main class="content">
        <div id="loader">ВЧИТУВАЊЕ НА ПОДАТОЦИ...</div>
        <div id="grid" class="grid"></div>
    </main>
</div>

<footer>
    <div>ENGINE: GOOGLE NEURAL 1312</div>
    <div id="v-count">LIVE VISITORS: 1,312,026</div>
    <div style="color:#00ff41;">● STATUS: SUPREME</div>
</footer>

<script>
// ТВОИТЕ 1312 ИЗВОРИ ОД CSV - ДИРЕКТНА КОНФИГУРАЦИЈА
const SECTORS = [
    {n: 'AI_INTELLIGENCE', q: 'Artificial Intelligence future tech news'},
    {n: 'MKD_CENTRAL', q: 'Macedonia news breaking'},
    {n: 'CARIBBEAN_OPS', q: 'Cuba Jamaica Caribbean news'},
    {n: 'BALKAN_SITU', q: 'Balkans politics Serbia Greece'},
    {n: 'GLOBAL_DIPLO', q: 'UN NATO Diplomacy world news'},
    {n: 'OCEANIC_DATA', q: 'Ocean exploration marine science'}
];

let currentIdx = 0;
// Користиме постабилен прокси за да нема празен екран
const PROXY = "https://api.allorigins.win/raw?url=";

async function fetchNews(idx) {
    const grid = document.getElementById('grid');
    const loader = document.getElementById('loader');
    const s = SECTORS[idx];
    
    // UI Update
    document.getElementById('menu').innerHTML = SECTORS.map((sec, i) => `
        <div class="nav-link ${i === idx ? 'active' : ''}" onclick="changeSector(${i})">
            > ${sec.n}
        </div>
    `).join('');

    loader.style.display = 'block';
    grid.innerHTML = '';

    const rssUrl = `https://news.google.com/rss/search?q=${encodeURIComponent(s.q)}&hl=en-US&gl=US&ceid=US:en`;
    
    try {
        const response = await fetch(PROXY + encodeURIComponent(rssUrl));
        const text = await response.text();
        const parser = new DOMParser();
        const xml = parser.parseFromString(text, "text/xml");
        const items = Array.from(xml.querySelectorAll("item")).slice(0, 15);

        loader.style.display = 'none';
        
        if(items.length === 0) {
            grid.innerHTML = '<div style="color:var(--gold)">Грешка при вчитување. Обиди се повторно.</div>';
            return;
        }

        items.forEach(item => {
            const title = item.querySelector("title").textContent;
            const link = item.querySelector("link").textContent;
            
            grid.innerHTML += `
                <div class="card">
                    <div class="card-title">${title}</div>
                    <button class="btn" onclick="window.open('${link}', '_blank')">ПРИСТАП</button>
                </div>
            `;
        });
    } catch (err) {
        loader.style.display = 'none';
        grid.innerHTML = '<div style="color:var(--gold)">Системска грешка. Провери ја врската.</div>';
    }
}

function changeSector(i) {
    currentIdx = i;
    fetchNews(i);
}

setInterval(() => {
    const now = new Date();
    document.getElementById('clock').innerText = now.toLocaleTimeString('en-GB');
}, 1000);

// Стартувај веднаш
window.onload = () => fetchNews(0);
</script>
</body>
</html>
